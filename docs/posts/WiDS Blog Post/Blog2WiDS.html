<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>My Awesome CSCI 0451 Blog - WiDS Conference 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: white;
      }

      .quarto-title-block .quarto-title-banner {
        color: white;
background-image: url(../../img/landscape.png);
background-size: cover;
      }
</style>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Awesome CSCI 0451 Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About Breanna Guo</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">WiDS Conference 2024</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="wids-conference-2024" class="level1">
<h1>WiDS Conference 2024</h1>
<section id="breanna-guo" class="level4">
<h4 class="anchored" data-anchor-id="breanna-guo">Breanna Guo</h4>
</section>
<section id="abstract" class="level2">
<h2 class="anchored" data-anchor-id="abstract">Abstract:</h2>
<p>This post covers my thoughts on the reading <em>Solving the Equation: The variables for Women’s Success in Engineering and Computing</em>, as well as a synopsis of the talks I attended and what I learned from attending the event</p>
<p>I would like to note that the WiDS 2024 event was organized by me and Professor Tang from the math and statistics department as an ongiong effort to bring more data science events to Middlebury by highlighting the incredible data science work done by women. This is an opportunity for students to learn about the interdisciplenary applications of data sciecne skills and meet peers who are also interested in data science.</p>
<p>This event was such a success. The keynote from Professor Sarah Brown was incredible. A big takeaway I had was that a lot of the issues people run into when using machine learning doesn’t have to do with the algorithm or the code (maybe in Professor Biesters case wrangling all of Reddits posts it would be). Rather, the issues stem from misinterpretations of the data, data that lies about what it’s meant to represent, and challenges collecting best data to represent the issues at hand. The anecdote that stood out to me the most was Professor Browns story of collaborating with a social psychologist to ask people the appropriate questions to reveal bias. When working with such abstract topics such as bias and fairness, I was very impressed by how creative people were able to get to overcome unexpected obstacles.</p>
</section>
<section id="part-1-why-spotlight-women-in-data-science" class="level2">
<h2 class="anchored" data-anchor-id="part-1-why-spotlight-women-in-data-science">Part 1: Why Spotlight Women in Data Science?</h2>
<section id="why-is-it-a-problem-that-women-are-underrepresented-in-computing-math-and-engineering-for-whom-is-it-a-problem" class="level4">
<h4 class="anchored" data-anchor-id="why-is-it-a-problem-that-women-are-underrepresented-in-computing-math-and-engineering-for-whom-is-it-a-problem">Why is it a problem that women are underrepresented in computing, math, and engineering? For whom is it a problem?</h4>
<blockquote class="blockquote">
<p>“Half our team, we’re not even putting on the field. We’ve got to change those numbers.” Former President Barack Obama, 2014 White House Science Fair</p>
</blockquote>
<p>Underrepresentation of women in computing, math and engineering fileds creates stereotypes that women are worse than men in these fields, which leads to biases in decision making processes e.g.&nbsp;hiring. These stereotypes also lead to a negative feedback look where women become less engaged in the fields that they are negatively stereotyped in, or they perform worse at tasks when reminded of the negative stereotypes against them in those tasks. The presence of women at all levels of the organization can create more community for women, in addition to more female role models. Having more women in these fields would help reduce the implicit gender-science bias in both men and women. These issues do not lie solely apply to women. The biases that lead to underrepresenation impact everybody. As said by former president Barack Obama, less women in the field means there’s a lot of labor missing that could be there. More minds working on computing, mathm and engineering would benefit us all.</p>
</section>
<section id="how-is-the-representation-and-status-of-women-in-computing-today-different-from-the-1950s-and-1960s-what-are-some-of-the-forces-that-brought-on-this-change" class="level4">
<h4 class="anchored" data-anchor-id="how-is-the-representation-and-status-of-women-in-computing-today-different-from-the-1950s-and-1960s-what-are-some-of-the-forces-that-brought-on-this-change">How is the representation and status of women in computing today different from the 1950s and 1960s? What are some of the forces that brought on this change?</h4>
<p>Representation of women in computing grew from 1960 to 1990, but then actually declined back to 1960 levels by 2013 at just over 25% of workers. This is different from most other stem fields where, no matter how small the portion of women labor is, grew female participation from 1960 to 2013. Many large tech companies eg. Twitter, Google and Facebook had 20% or lower female participation. Starting in the mid-1900’s, both men and women start working clerical jobs and into the computer and IT sector. But then companies started using aptitude tests to get new hires, and these tests would favor men. Additionally, computer science programs began to get located in engineering colleges, which were histically all men (maybe 1% women). With the rise of personal computers, one could argue that men and boys clung onto a germa culture that became inaccessible for women. Another possibility to explain the drop of female participation in the computing sector is since so many people wanted to get computer science degrees, schools started restricting attendance, and these restrictions were often biased against women. This trend of low female representation in computing fields remains a problem to this day.</p>
</section>
<section id="which-of-the-barriers-and-unequal-challenges-described-in-the-section-why-so-few-can-be-eroded-by-events-that-spotlight-the-achievement-of-women-in-stem" class="level4">
<h4 class="anchored" data-anchor-id="which-of-the-barriers-and-unequal-challenges-described-in-the-section-why-so-few-can-be-eroded-by-events-that-spotlight-the-achievement-of-women-in-stem">Which of the barriers and unequal challenges described in the section “Why So Few?” can be eroded by events that spotlight the achievement of women in STEM?</h4>
<p>The section mentions many challenges that come from a lack of representation in STEM field. Isolation, which comes from a lack of voice and support in their field, can be avoided if there are regular events that highlight the presence of women in these fields in addition to their contributions and accomplishments. Another is stereotypes, and more specifically, microinequities. These effect the confidence of students overtime and can ultimately influence their career choice. Microinequities are often pointed towards women in STEM fields, and could deter them from pursuiting their studies in that field further, even if they are equally as qualified as their male peers. These stereotypes can also lead to biases that affect women in their jobs, whether it be the hiring process or performance reviews. Showcasing the work of women in the field is a powerful way of disassembling the stereotype that women don’t belong in the field and should not attempt to be. Evenmore, sexism and sexual harrasment are pervasive and can be masked by women who are trying to “fit in”. This ties into the final topic of this section where they describe many women feeling a lack of belonging in their field. If the work of women in STEM were better known, that would create a sense of belonging for women in the field and could reduce their willingness to let assault slide for the sake of fitting in.</p>
</section>
</section>
<section id="part-2-attend-wids" class="level2">
<h2 class="anchored" data-anchor-id="part-2-attend-wids">Part 2: Attend WiDS</h2>
<p>Done!</p>
</section>
<section id="part-3-report" class="level2">
<h2 class="anchored" data-anchor-id="part-3-report">Part 3: Report!</h2>
<p>What was talked about, what was learned eg. data sources, what was the result of the lecture, what are assumptions they made in their research, issues they came across</p>
<section id="prof.-amy-yuen-political-science-is-the-united-nations-security-council-a-democratic-institution-musings-and-measures-of-representation" class="level4">
<h4 class="anchored" data-anchor-id="prof.-amy-yuen-political-science-is-the-united-nations-security-council-a-democratic-institution-musings-and-measures-of-representation">Prof.&nbsp;Amy Yuen, Political Science: Is the United Nations Security Council a Democratic Institution? Musings and Measures of Representation</h4>
<p>Honestly, this topic was pretty foreign (pun not intended) to me. This is my best interpretation of the contents of the talk: <strong>RQ: Why do elected members continue to run for seats?/ what is their influence</strong> So few members of the audience truly understood the purpose of the UN Security Council and maybe that was due to the audience being a lot of non-political science majors, but Professor Yuen agreed to the sentiment- and if we know so little about this council, why are members rerunning for the council and what exactly is their influence? One of the facts she revealed is that the UN Security Council voting rules favor the powerful. Their data collection process involved interviewing with council members and looking at data to see why they want to rerun. First, they asked the question <strong>is the security countil democratic?</strong> They found that no, democracy is when everybody has an equal vote and only 5 people have a veto vote on the council, which means not everybodies vote is equal. They measured several things to answer <em>who engages in the council, and whose issues get attention</em>. Measured things include resolutions, formal meetings, who is sponsoring resolutions. <strong>Findings</strong> They have found that passed resolution sponsorship count was higher for permanent members, then sitting elected members (policy entrepreneurs), and very little from those not on council. By geographic region, council members from EAS and ECS (europeans and east africa) have a lot of influence. They found that the most frequently elected council members are Japan, then Brazil (these countries give a lot of money to the cause and are very active members). But these are up to change: Japan might not run again due to domestic issues, Canada used to be a frequent flyer before dropping off once they lost to Ireland. In summary, in terms of representation, they find that while the council is not democratic, it could be worse. Moving forward, they’re going to look into what this means for output and effectiveness, which could involve looking into what language gets put into resolutions etc.</p>
<p>Professor Yuen’s talk went into a lot of depth about this one research project of hers.</p>
</section>
<section id="prof.-jessica-lroe-geography-beyond-deforestation-monitoring-change-in-tropical-forest-landscapes" class="level4">
<h4 class="anchored" data-anchor-id="prof.-jessica-lroe-geography-beyond-deforestation-monitoring-change-in-tropical-forest-landscapes">Prof.&nbsp;Jessica L’Roe, Geography: Beyond Deforestation: Monitoring Change in Tropical Forest Landscapes</h4>
<p>I really liked Professor L’Roe’s talk because she talked about her experience as a woman coming from a background where gender stereotypes are enforced, and entering into stereotypically male, and male-biased field. The projects she talked about were all very insightful as well, because they highlighted an aspect of the data process that is sometimes overlooked, which is the data collection process before it’s in excel and csv form. She has collaborated with people all over the world, particularly South America and Africa, to collect deforestation data on the ground by going from plot of land to plot of land asking about land ownership.</p>
<p>Something interesting she noticed in one of the data sets she worked with is that people would lie about the size of their properties to be just under thresholds that, when crossed, would subject them to additional fees. I found this fascinating because there was an economics experiment done one a baby healthcare policy that found the policy was ineffective, but upon further exploration into the data, they found that the data was skewed in the sense that nurses were recording babies just under the weight threshold to give them additional help when they might have actually been over that threshold. This phenomenon clearly is not a one-time instance and it’s possible to appear to many different types of data sources.</p>
<p>Other data sources Professor L’Roe uses are surveys and interviews with local. She claimed that her role is connecting people to pixels and telling their story, which I found to be a great way to describe the work with data that she does.</p>
</section>
<section id="prof.-laura-biester-computer-science-computational-linguistic-models-of-mental-health" class="level4">
<h4 class="anchored" data-anchor-id="prof.-laura-biester-computer-science-computational-linguistic-models-of-mental-health">Prof.&nbsp;Laura Biester, Computer Science: Computational Linguistic Models of Mental Health</h4>
<p>Professor Biester’s research explore the <strong>connection between language and mental health</strong>. Early research shows people with depressions more commonly use first-person pronouns. Now, it’s possible to take data from the internet to look into this. Within Natual Language Processing, this has become a topic of interest.</p>
<p>In her data, Professor Biester ran into some <strong>issues with data</strong>. One huge challenge of collecting text data is privacy, and so a lot of researchers use public data relying on “self reports” of mental illness to identify those illnesses. In 2013, De Choudhury used Machine Learning to predict depression before onset from Twitter data, followed by Yates et al.&nbsp;who applied Deep Learning to reddit posts for depression prediction. In Professor Biesters research, they collected their own data, using Reddit data (all of it). Using the assumption that users who self-report were once in the symptom onset / pre-diagnosis stage, they have data to train on to create models that can predict if other users are in the pre-diagnosis stage of depression. This research is ongoing. This talk lead me to wonder if these methods can be used for more than just depression. Could it be used to detect anxiety or PTSD?</p>
</section>
<section id="prof.-sarah-brown-computer-science-data-science-in-unexpected-places" class="level4">
<h4 class="anchored" data-anchor-id="prof.-sarah-brown-computer-science-data-science-in-unexpected-places">Prof.&nbsp;Sarah Brown, Computer Science: Data Science in Unexpected Places</h4>
<p>Inlcude: topic, primary argument, what was learned</p>
<p>Professor Sarah Browns Big Question is <strong>making Machin Learning more fair</strong>. A lot of times when we learn to be data scientists, we learn the stats, the computer science, and then apply those to some sort of domain. But Professor Brown agues that domain expertise is an essential part of being a successful data scientist. While we can try to just work with people in the domain of interest, without the notion to do so and without and basic domain knowledge ourselves, we are unable to critically and creatively make a predictive model about that domain. So for Professor Brown, her next question became <strong>What can we put in a data scientists toolbox to help them make fair ML?</strong> or to allow them to collaborate better with domain experts? She dove into three lessons that helper her supass challenges in her data and machine learning process: ##### 1. Her first lesson came from her 2006 High School social studies class. They used context to understand primary sources, which resulted in the lesson: <strong>Understand data’s context</strong> In 2012, she was working on a project involving data for diagnosing patients with PTSD. If the patient scores above a threshold on a certain medical exam, they are considered to have PTSD. Otherwise, they don’t. The goal of this project was to provide a computerized exam to score patients. This is where the screen started glitching and I went to help fix the screen. I honestly don’t know how this one ended. But I know they ended up adding a classifier to their linear algorithm or something like that. Using the data’s contest to build a better model.</p>
<section id="section" class="level5">
<h5 class="anchored" data-anchor-id="section">2.</h5>
<p>She learned in her Advanced Writing course in grad school that <strong>Disciplines are communities</strong>. Much later in her career, when giving talk to colleague about fariness in ML, she argued that forcing fariness in one way reveals bias in other ways. Another professor approached her with the research question <strong>What if this is used to understand how people are biased?</strong>. This lead to a deeper discussion with that professor about how her current data was being collected and she ended up adjusting her methodology after realizing the current literature that she was following was written by computer science researchers and the skills needed were not computer science, rather social psychology skills. She worked with more people in social psychology field to understand biases better and improve her data collection questions.</p>
</section>
<section id="section-1" class="level5">
<h5 class="anchored" data-anchor-id="section-1">3.</h5>
<p>Her final lesson was learnd while on the board for National Society of Black Engineers. The national chapter was trying to get chapters to implement projects but they never ended up getting implemented. They finally realized that Student organizations don’t have the level of assistance that the national level organizations had. So the had to <strong>Meet people where they are</strong>. Once she became a part of the machine learning field, she recognized an issue that when creating an ML model, people would often hesitate to make a model more fair once they learned how accurate it was. So Professor Brown set out to see if there is a way to indicate fariness before even fitting the model, so there is no trade off between accuracy and fairness, and the focus is entirely on the fairness of the model. Her solution to enforce fairness in models is to teach model auditing before teaching her students how to fit models</p>
<p>I really enojoyed this talk because the lessons are absolutely ones that I will take away with me. I took an economic psychology class one J-Term and learning about how a simple question can result in biased answers and then hearing that same sentiment shared in the second lesson was such a full-circle moment. I absolutely agree that discipline expertise in the field of data science is way understated, and that to fully understand the machine learning process from the very start of data collection to the very end of making a model, understanding the social implications of the process is essential.</p>
</section>
</section>
</section>
<section id="part-4-reflection" class="level2">
<h2 class="anchored" data-anchor-id="part-4-reflection">Part 4: Reflection</h2>
<p>I learned a lot from the reading. While I’ve always believed that striving for female representation in STEM fields is important, all the reasons listed in the reading were helpful to deepend my understanding of why exactly more women in STEM is so important.</p>
<p>Collaborating with all of these phenomenal women to host this event has been such a wonderful experience, and honestly the majority of learning happened when I spoke to the speakers outside of the event. I thought the work that Lauren Vollmer-Forrow does is fascinating and it’s truly a shame that the alumni panel wasn’t longer. The statistical modelling that she does for the government is such a cool example of math skills that are learned at Middlebury being applied to inform policy decision.</p>
<p>I hope to learn more about the methods of reducing bias in models. Hopefully that will be in the form of completing a blog post.</p>
<p>Something else for me to do is create a feedback form to hear from the audience- what speakers people enjoyed, what they wished there was more/less of, what is a snack you want to see at next years event?</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>